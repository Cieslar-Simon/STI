# STI – Speech Transmission Index MATLAB Implementation
### Project Overview

**Speech Transmission Index (STI)** is an objective measure (0 to 1 scale) that predicts speech intelligibility by analyzing how a transmission channel (room, audio system, etc.) affects speech signal modulation. A high STI (closer to 1) indicates excellent intelligibility, while a low STI (closer to 0) means poor intelligibility. According to the IEC 60268-16 standard, STI values are categorized from “bad” (0–0.3) to “excellent” (0.75–1.0), correlating with the percentage of speech understood by listeners. The STI is determined by sending specially modulated test signals through the system and measuring the preservation of amplitude modulations at various frequencies (the **Modulation Transfer Function, MTF**). This MATLAB project provides an open-source implementation of STI methods as developed in the master’s thesis “Computing Speech Transmission Index in Matlab” (Š. Cieslar, Brno University of Technology, 2025) – enabling researchers, students, and practitioners to evaluate speech intelligibility under different conditions.

**Full STI vs. STIPA**: The full STI procedure uses 98 separate test signals covering 7 octave frequency bands and 14 modulation frequencies, requiring roughly a 15-minute measurement. **STIPA** (Speech Transmission Index for Public Address systems) is a simplified, standardized variant of STI that uses a single composite test signal with only two modulation frequencies per band, reducing measurement time to about 15–20 seconds. STIPA provides a quicker estimation of STI with minimal accuracy loss, making it practical for field measurements. This repository implements both the direct STI methods – including the exhaustive Full STI and the faster STIPA – and the indirect method based on impulse responses. The direct method involves playing a known modulated noise signal through the system and analyzing the recorded output, while the indirect method computes STI by analyzing the system’s measured impulse response (IR). (The indirect IR-based method assumes a linear time-invariant system; it may be less accurate if the audio path includes non-linear elements like companders or limiters.) By providing implementations of all these approaches, the project allows users to compare results and understand how different measurement techniques can be used to assess speech intelligibility.

#### Features
+ **Full Direct STI Calculation**: Generation of the full STI test signal (7 octave bands × 14 modulations) and analysis of recorded signals to compute the STI. This includes calculating the Modulation Transfer Function (MTF) for each band/modulation frequency and applying standard STI weighting and redundancy corrections. The code can produce the long-format test signal and analyze its playback recording to yield an STI score along with intermediate metrics (modulation indices, per-band intelligibility scores, etc.).
+ **STIPA Method**: Implementation of the **STIPA** simplified test. The repository can generate the standard STIPA test signal (modulated noise with two modulation frequencies per band) and compute STI from a recorded STIPA test playback. This provides a fast estimate of intelligibility using the widely adopted STIPA procedure (per IEC 60268-16). It includes functions for creating the STIPA signal of a desired length and sampling rate, as well as analyzing the recorded response to output the STI value and modulation reduction per octave band.
+ **Indirect STI from Impulse Response**: Tools to calculate STI based on an acoustic **impulse response**. Given a measured IR of the environment or audio chain, the code computes the modulation transfer function by processing the IR (for example, by deriving the frequency response and applying octave-band modulation analysis). This yields an STI prediction without needing the direct playback of modulated noise. An exponential sine sweep signal generation (<code>IR_signal_exp_sweep.m</code>) is provided to facilitate IR measurements, and the measured IR can be fed into the <code>STI_IR.m</code> function to compute STI. This method is useful for cases where an impulse response is known or easier to obtain.
+ **Signal Generation and Processing**: Functions to generate all necessary test signals and to process recorded signals:
  + <code>generateFullSTISignal.m</code> creates the full STI multi-band test signal according to the standard (all modulation frequencies in all octave bands).
  + <code>generateStipaSignal.m</code> produces a STIPA test signal of specified duration and sample rate, containing the proper modulation patterns.
  + <code>IR_signal_exp_sweep.m</code> generates an exponential swept-sine signal for measuring impulse responses (a common method to capture IR while minimizing distortion).
  + Utility functions like <code>addSilenceGaps.m</code> to insert silence between signal bursts if needed for analysis) and <code>convolution.m</code> (for convolving signals with impulse responses or filters) are included to assist in signal processing tasks.
+ **Octave Band Analysis**: The implementation follows the standard’s use of 7 octave frequency bands (centered at 125 Hz up to 8 kHz). The function <code>octave_band_analysis.m</code> filters signals or IRs into these octave bands and computes band-specific metrics. This is used both in direct and indirect computations to evaluate modulation depth reduction per band in the presence of noise and reverberation.
+ **Comprehensive Analysis Scripts**: Three demonstration scripts are provided to show end-to-end usage:
  + <code>demonstration_fullSTI.m</code> - guides the user through generating the full STI signal, playing or simulating its transmission (e.g., via a measured impulse response or a chosen acoustic scenario), analyzing the received signal with <code>fullsti.m</code>, and obtaining the STI result. It likely also visualizes the modulation transfer matrix or intermediate results.
  + <code>demonstration_stipa.m</code> - demonstrates the STIPA procedure: it can generate or load a STIPA test signal, help simulate or record its playback, then use <code>stipa.m</code> to compute the STI. This script may plot the octave-band modulation indices and display the final STI value in a table or console.
  + <code>demonstration_IR.m</code> - shows how to use a measured impulse response to compute STI via the indirect method. For example, it might load an example IR (provided from a real room measurement) or use a synthetic IR, and then call <code>STI_IR.m</code> to calculate the STI. The script can then compare this indirect result with direct measurements (if available) for validation.
+ **Visualization and Output**: The project includes functions to help interpret the results:
  + <code>displayPlotSTI.m</code> generates plots of the modulation reduction matrix or bar charts of the transmission index per band, helping users visualize how each octave band contributes to the overall STI.
  + <code>displayTableSTI.m</code>prints or returns a formatted table of STI results, possibly including per-octave-band STI values and overall STI (and maybe the CIS (common intelligibility scale) or quality rating).
  + <code>plotSignalWaveform.m</code> and <code>plotIRVisualization.m</code> are utility functions to plot time-domain waveforms of test signals or impulse responses and possibly their envelopes or frequency responses. These help users verify the signals and IRs (for example, checking the quality of a recorded test signal or the decay of an impulse response).
+ **Calibration Support**: A reference calibration tone file <code>calibrator94dB.wav</code> is included, containing a 1 kHz tone at 94 dB SPL. This can be used to calibrate the recording system so that the recorded signal levels correspond to real sound pressure levels. By recording this tone with the measurement microphone and adjusting gain such that the analysis recognizes it as 94 dB, subsequent STI measurements can be referenced to absolute SPL. Proper calibration ensures that noise levels and speech levels are correctly accounted for in the STI calculation (per the standard’s requirements).

Together, these features make the repository a full toolset for STI evaluation: from generating test stimuli, through performing measurements or simulations, to computing the intelligibility index and visualizing the results.


 






#### References
1. Záviška, P., Rajmic, P., Schimmel, J. MATLAB Implementation of STIPA. AES Europe Conference, 2024 – An open-source project implementing the STIPA method for speech intelligibility testing.
2. **ČSN EN IEC 60268-16 ed. 3** – Sound system equipment – Part 16: Objective rating of speech intelligibility by the STI. International Electrotechnical Commission standard defining the STI calculation and qualification criteria.
3. Cieslar, Šimon. Computing Speech Transmission Index in Matlab. Master’s Thesis, Brno University of Technology, 2025. (Detailing the development of this MATLAB implementation and measurement campaign.)

